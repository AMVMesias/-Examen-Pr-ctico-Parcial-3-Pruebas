===============================================================================
              FASE 2: PRUEBAS UNITARIAS E INTEGRACIÃ“N - JEST
===============================================================================
Fecha de ejecuciÃ³n: 3 de febrero de 2026
Proyecto: Sistema de GestiÃ³n de Reservas
===============================================================================

ğŸ“Š RESUMEN DE EJECUCIÃ“N
===============================================================================

Test Suites: 4 passed, 4 total
Tests:       23 passed, 23 total
Snapshots:   0 total
Time:        2.414 s

===============================================================================
ğŸ§ª PRUEBAS UNITARIAS - AuthController
===============================================================================

PASS  tests/unit/auth.test.js

  AuthController - Pruebas Unitarias
    register()
      âœ“ CP-01: Debe registrar un usuario nuevo correctamente (5 ms)
      âœ“ CP-02: Debe rechazar registro si el usuario ya existe (1 ms)
      âœ“ CP-03: Debe manejar errores internos correctamente (1 ms)
    login()
      âœ“ CP-04: Debe autenticar usuario con credenciales vÃ¡lidas (1 ms)
      âœ“ CP-05: Debe rechazar login si usuario no existe (1 ms)
      âœ“ CP-06: Debe rechazar login con contraseÃ±a incorrecta (1 ms)
      âœ“ CP-07: Debe manejar errores de base de datos en login

===============================================================================
ğŸ§ª PRUEBAS UNITARIAS - ReservaController
===============================================================================

PASS  tests/unit/reserva.test.js

  ReservaController - Pruebas Unitarias
    crearReserva()
      âœ“ CP-08: Debe crear una reserva vÃ¡lida correctamente (5 ms)
      âœ“ CP-09: Debe manejar errores al crear reserva (1 ms)
      âœ“ CP-10: Debe asociar la reserva al usuario autenticado (1 ms)

===============================================================================
ğŸ§ª PRUEBAS UNITARIAS - Auth Middleware
===============================================================================

PASS  tests/unit/authMiddleware.test.js

  Auth Middleware - Pruebas Unitarias
    VerificaciÃ³n de Token JWT
      âœ“ CP-11: Debe rechazar acceso sin token (5 ms)
      âœ“ CP-12: Debe permitir acceso con token vÃ¡lido (1 ms)
      âœ“ CP-13: Debe rechazar token invÃ¡lido
      âœ“ CP-14: Debe rechazar token expirado (1 ms)
      âœ“ CP-15: Debe procesar token sin prefijo Bearer (1 ms)

===============================================================================
ğŸ”— PRUEBAS DE INTEGRACIÃ“N - API REST
===============================================================================

PASS  tests/integration/api.test.js

  API REST - Pruebas de IntegraciÃ³n
    POST /api/auth/register
      âœ“ CP-INT-01: Debe registrar un nuevo usuario exitosamente (157 ms)
      âœ“ CP-INT-02: Debe rechazar registro de usuario duplicado (80 ms)
    POST /api/auth/login
      âœ“ CP-INT-03: Debe autenticar con credenciales vÃ¡lidas (143 ms)
      âœ“ CP-INT-04: Debe rechazar login con contraseÃ±a incorrecta (145 ms)
      âœ“ CP-INT-05: Debe rechazar login de usuario no registrado (77 ms)
    POST /api/reservas
      âœ“ CP-INT-06: Debe crear reserva con token vÃ¡lido (149 ms)
      âœ“ CP-INT-07: Debe rechazar reserva sin token (146 ms)
      âœ“ CP-INT-08: Debe rechazar reserva con token invÃ¡lido (147 ms)

===============================================================================
ğŸ“ˆ REPORTE DE COBERTURA DE CÃ“DIGO
===============================================================================

-----------------------|---------|----------|---------|---------|-------------------
File                   | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-----------------------|---------|----------|---------|---------|-------------------
All files              |   98.61 |      100 |   83.33 |   98.52 |                   
 src                   |    90.9 |      100 |      50 |    90.9 |                   
  app.js               |    90.9 |      100 |      50 |    90.9 | 17                
 src/controllers       |     100 |      100 |     100 |     100 |                   
  authController.js    |     100 |      100 |     100 |     100 |                   
  reservaController.js |     100 |      100 |     100 |     100 |                   
 src/middlewares       |     100 |      100 |     100 |     100 |                   
  auth.js              |     100 |      100 |     100 |     100 |                   
 src/models            |     100 |      100 |     100 |     100 |                   
  Reserva.js           |     100 |      100 |     100 |     100 |                   
  User.js              |     100 |      100 |     100 |     100 |                   
 src/routes            |     100 |      100 |     100 |     100 |                   
  auth.js              |     100 |      100 |     100 |     100 |                   
  reserva.js           |     100 |      100 |     100 |     100 |                   
-----------------------|---------|----------|---------|---------|-------------------

===============================================================================
ğŸ“‹ RESUMEN DE COBERTURA
===============================================================================

        â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
        â•‘                                       â•‘
        â•‘     COBERTURA TOTAL: 98.61%           â•‘
        â•‘     Meta: 80% âœ… SUPERADA             â•‘
        â•‘                                       â•‘
        â•‘     Statements: 98.61%                â•‘
        â•‘     Branches:   100%                  â•‘
        â•‘     Functions:  83.33%                â•‘
        â•‘     Lines:      98.52%                â•‘
        â•‘                                       â•‘
        â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

===============================================================================
